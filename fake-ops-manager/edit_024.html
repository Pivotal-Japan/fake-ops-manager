<!DOCTYPE html>
<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">


<meta content="0" http-equiv="expires">
<meta content="text/javascript" http-equiv="Content-Script-Type">
<meta content="text/css" http-equiv="Content-Style-Type">
<meta content="IE=Edge,chrome=1" http-equiv="X-UA-Compatible">
<link href="favicon.png" rel="icon" type="image/png">
<title>Ops Manager</title>
<meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="ghKGfctWKb0zih0QitZQqlEFGZy8uGbTe7JOfXNBEex7vsWg2qGAAoNZx4iYHXi74WS736jtlfwSnezCeijYqw==">

<script src="application-3f515a698587bf8a738bf1f5f944a2c08fed10676595d017d6de9b2eb2cbd9fb.js"></script>



<link media="all" href="edit_024.css" type="text/css" rel="stylesheet">
</head>
<body class="forms-page edit-action rails-env-production infrastructure-azure">
<div class="container">
<nav class="site-header">
<a class="logo float-left" href="index.html" id="pivotal_cf_logo" indepth="true">
<div class="pivotal-logo"></div>
<div class="operations-manager-logo"></div>
</a>
<nav class="nav user-nav float-right">
<div class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="#" id="toggle-account-dropdown">admin</a>
<ul class="dropdown-menu right-align">
<li><a id="change-settings-action" href="edit.html" indepth="true">Settings</a></li>
<li><a href="profile.html" indepth="true">My Account</a></li>
<li><a id="logout-action" href="https://pcf-opsman-oph7lhgru7et4.japaneast.cloudapp.azure.com/logout">Log out</a></li>
</ul>
</div>
</nav>
</nav>



<section class="content-container twelve columns">
<div class="page-content twelve columns">
<header class="page-header">
<a class="link-back" href="index.html" indepth="true"><i class="fa fa-chevron-left"></i>
Installation Dashboard
</a><h1>Pivotal Elastic Runtime</h1>
</header>
<ul class="tabs">
<li class="active">
<a id="show-configure-action" href="edit_002.html" indepth="true">Settings</a>
</li>
<li>
<a id="show-status-action" href="statuses.html" indepth="true">Status</a>
</li>
<li>
<a id="show-credentials-action" href="credentials_001.html" indepth="true">Credentials</a>
</li>
<li>
<a id="show-logs-action" href="jobs_logs.html" indepth="true">Logs</a>
</li>
</ul>

<section class="three columns with-sidebar">
<ul class="sidebar nobullets">
<li class="status">
<a id="show-cf-azs-and-network-assignment-action" href="edit_002.html" indepth="true"><i class="fa fa-check-circle"></i>
Assign Networks
</a></li>
<li class="status">
<a id="show-domains-action" href="edit_017.html" indepth="true"><i class="fa fa-check-circle"></i>
Domains
</a></li>
<li class="status">
<a id="show-networking-action" href="edit_018.html" indepth="true"><i class="fa fa-check-circle"></i>
Networking
</a></li>
<li class="status">
<a id="show-app_containers-action" href="edit_019.html" indepth="true"><i class="fa fa-check-circle"></i>
Application Containers
</a></li>
<li class="status">
<a id="show-application_dev_controls-action" href="edit_020.html" indepth="true"><i class="fa fa-check-circle"></i>
Application Developer Controls
</a></li>
<li class="status">
<a id="show-application_security_groups-action" href="edit_021.html" indepth="true"><i class="fa fa-check-circle"></i>
Application Security Groups
</a></li>
<li class="status">
<a id="show-uaa-action" href="edit_022.html" indepth="true"><i class="fa fa-check-circle"></i>
Authentication and Enterprise SSO
</a></li>
<li class="status">
<a id="show-system_database-action" href="edit_023.html" indepth="true"><i class="fa fa-check-circle"></i>
Databases
</a></li>
<li class="active status">
<a id="show-mysql_config-action" href="edit_024.html" indepth="true"><i class="fa fa-check-circle"></i>
Internal MySQL
</a></li>
<li class="status">
<a id="show-system_blobstore-action" href="edit_025.html" indepth="true"><i class="fa fa-check-circle"></i>
File Storage
</a></li>
<li class="status">
<a id="show-syslog_aggregator-action" href="edit_026.html" indepth="true"><i class="fa fa-check-circle"></i>
System Logging
</a></li>
<li class="status">
<a id="show-generic_white_label_config-action" href="edit_027.html" indepth="true"><i class="fa fa-check-circle"></i>
Custom Branding
</a></li>
<li class="status">
<a id="show-apps_manager_config-action" href="edit_028.html" indepth="true"><i class="fa fa-check-circle"></i>
Apps Manager
</a></li>
<li class="status">
<a id="show-smtp_config-action" href="edit_029.html" indepth="true"><i class="fa fa-check-circle"></i>
Email Notifications
</a></li>
<li class="status">
<a id="show-cloud_controller-action" href="edit_030.html" indepth="true"><i class="fa fa-check-circle"></i>
Restore CCDB Encryption Key
</a></li>
<li class="status">
<a id="show-smoke_tests-action" href="edit_031.html" indepth="true"><i class="fa fa-check-circle"></i>
Smoke Tests
</a></li>
<li class="status">
<a id="show-experimental_features-action" href="edit_032.html" indepth="true"><i class="fa fa-check-circle"></i>
Advanced Features
</a></li>
<li class="status">
<a id="show-product-errands-action" href="edit_033.html" indepth="true"><i class="fa fa-check-circle"></i>
Errands
</a></li>
<li class="status">
<a id="show-cf-resource-sizes-action" href="edit_034.html" indepth="true"><i class="fa fa-check-circle"></i>
Resource Config
</a></li>
<li class="status">
<a id="show-cf-stemcell-assignment-action" href="edit_035.html" indepth="true"><i class="fa fa-check-circle"></i>
Stemcell
</a></li>
</ul>
</section>
<section class="content nine columns">
<form class="new_tempest_form_renderers_form" id="new_tempest_form_renderers_form" action="https://pcf-opsman-oph7lhgru7et4.japaneast.cloudapp.azure.com/products/cf-236816a17dff00ecc296/forms/mysql_config" accept-charset="UTF-8" method="post"><input name="utf8" value="✓" type="hidden"><input name="_method" value="put" type="hidden"><input name="authenticity_token" value="ghKGfctWKb0zih0QitZQqlEFGZy8uGbTe7JOfXNBEex7vsWg2qGAAoNZx4iYHXi74WS736jtlfwSnezCeijYqw==" type="hidden"><h2 class="content-title">Only configure this section if you selected Internal Databases - MySQL or Internal Databases - MySQL and Postgres in the previous Databases section.</h2>

<div class="markdown">
<h2>A proxy tier routes MySQL connections from internal components to healthy cluster nodes. Configure DNS and/or your own load balancer to point to multiple proxy instances for increased availability. TCP healthchecks can be configured against port 1936.</h2>

<h2>The automated backups functionality works with any S3-compatible file store that can receive your backup files.</h2>

</div>

<div class="control-group ip_ranges reverse-hereditary-focus">
<label class="control-label">
MySQL Proxy IPs
</label>
<div class="controls">
<input id="__mysql_proxy__static_ips_83d4d4ac-b8ea-49cb-a92f-87e28c78a4d7" name="mysql_config[.mysql_proxy.static_ips]" autocomplete="off" value="" type="text">
</div>
<div class="hint">Enter the IP address(es) for the MySQL proxy instances configured on your external load balancer.</div>
</div>

<div class="control-group network_address reverse-hereditary-focus">
<label class="control-label">
MySQL Service Hostname
</label>
<div class="controls">
<input id="__mysql_proxy__service_hostname_c67089dd-1be4-4f2d-aa33-93e266cc1482" name="mysql_config[.mysql_proxy.service_hostname]" autocomplete="off" value="" type="text">
</div>
<div class="hint">To remove a MySQL proxy as a single point of failure, configure your load balancer to route application requests to multiple proxy instances. Then enter the IP or hostname of the load balancer here, so components reach their MySQL databases through the load balancer. If this field is blank, components use the IP of the first MySQL proxy instance.</div>
</div>

<div class="control-group integer required reverse-hereditary-focus">
<label class="control-label">
Replication canary time period
</label>
<div class="controls">
<input id="__mysql_monitor__poll_frequency_ef2bd688-cbdf-49c8-bf9a-f2cec6f2822a" name="mysql_config[.mysql_monitor.poll_frequency]" value="30" autocomplete="off" type="text">
</div>
<div class="hint">How frequently the canary checks for replication failure, in seconds. Lower numbers will cause the canary to run more frequently, adding load to the database.</div>
</div>

<div class="control-group integer required reverse-hereditary-focus">
<label class="control-label">
Replication canary read delay
</label>
<div class="controls">
<input id="__mysql_monitor__write_read_delay_d9ac5353-3024-4942-9b39-acc8ed7a697c" name="mysql_config[.mysql_monitor.write_read_delay]" value="20" autocomplete="off" type="text">
</div>
<div class="hint">How long the canary waits to verify data is replicating across each MySQL node, in seconds. Clusters under heavily load will experience some small replication lag as writesets are committed across the nodes.</div>
</div>

<div class="control-group required reverse-hereditary-focus string">
<label class="control-label">
E-mail address (required)
</label>
<div class="controls">
<input id="__mysql_monitor__recipient_email_48e7a780-e2e6-4657-b4c6-117e42af8618" name="mysql_config[.mysql_monitor.recipient_email]" placeholder="Fill in your desired email address" value="tmaki@pivotal.io" autocomplete="off" type="text">
</div>
<div class="hint">The MySQL service will send alerts when the cluster experiences a replication issue or a node is not allowed to auto-rejoin the cluster.</div>
</div>

<div class="control-group" data-toggle-disabled-fields="">
<div class="control-group required reverse-hereditary-focus selector">
<label>Automated Backups Configuration</label>
</div>
<div class="accordion-group selector-options">
<label>
<input name="mysql_config[.properties.mysql_backups][value]" id="option_disable_edd51dce-82e3-4584-9699-88264994a436" value="disable" class="accordion-group-radio" checked="checked" type="radio">
Disable automated backups of MySQL
</label>
<label>
<input name="mysql_config[.properties.mysql_backups][value]" id="option_s3_27380b8b-0145-4fc7-8787-2aa14b16010b" value="s3" class="accordion-group-radio" type="radio">
Enable automated backups from MySQL to an S3 bucket or other S3-compatible file store
</label>
<div class="accordion-group-section control-group hidden disabled" data-accordion-target-of-id="option_s3_27380b8b-0145-4fc7-8787-2aa14b16010b" data-fields-enabled-by="option_s3_27380b8b-0145-4fc7-8787-2aa14b16010b" style="display: none;">
<div class="control-group required reverse-hereditary-focus string">
<label class="control-label">
S3 Endpoint URL
</label>
<div class="controls">
<input id="__properties__mysql_backups__s3__endpoint_url_b19a6689-5328-425f-8dfc-cf1e966969c9" name="mysql_config[.properties.mysql_backups][s3][.properties.mysql_backups.s3.endpoint_url]" value="https://s3.amazonaws.com" autocomplete="off" disabled="" type="text">
</div>
<div class="hint">Specify the endpoint that matches the region the bucket is hosted in. Defaults to https://s3.amazonaws.com for us-east-1 if no url is provided.</div>
</div>


<div class="control-group required reverse-hereditary-focus string">
<label class="control-label">
S3 Bucket Name
</label>
<div class="controls">
<input id="__properties__mysql_backups__s3__bucket_name_5bd089b0-6ca8-41ac-b255-d21893a4a37e" name="mysql_config[.properties.mysql_backups][s3][.properties.mysql_backups.s3.bucket_name]" placeholder="my-bucket" autocomplete="off" disabled="" value="" type="text">
</div>
<div class="hint">Do not include 's3://' prefix, trailing '/', or underscores. The bucket is created automatically if it does not already exist.</div>
</div>


<div class="control-group required reverse-hereditary-focus string">
<label class="control-label">
Bucket Path
</label>
<div class="controls">
<input id="__properties__mysql_backups__s3__bucket_path_90e95e49-0c6d-4b28-ae48-55dad5706a4a" name="mysql_config[.properties.mysql_backups][s3][.properties.mysql_backups.s3.bucket_path]" placeholder="my-backups-folder/elastic-runtime" autocomplete="off" disabled="" value="" type="text">
</div>
<div class="hint">Specify a folder within the bucket to hold the MySQL backups. Do not include a trailing slash.</div>
</div>


<div class="control-group required reverse-hereditary-focus string">
<label class="control-label">
AWS Access Key ID
</label>
<div class="controls">
<input id="__properties__mysql_backups__s3__access_key_id_910dac70-ee29-49d5-84a6-daa454e86e97" name="mysql_config[.properties.mysql_backups][s3][.properties.mysql_backups.s3.access_key_id]" autocomplete="off" disabled="" value="" type="text">
</div>
</div>


<div class="control-group required reverse-hereditary-focus secret">
<label class="control-label">
AWS Secret Access Key
</label>
<div class="controls">
<input autocomplete="off" data-masked-field-with-change-link="false" data-product-credential="true" name="mysql_config[.properties.mysql_backups][s3][.properties.mysql_backups.s3.secret_access_key][secret]" placeholder="Secret" value="" disabled="" type="password">
</div>
</div>


<div class="control-group required reverse-hereditary-focus string">
<label class="control-label">
Cron Schedule
</label>
<div class="controls">
<input id="__properties__mysql_backups__s3__cron_schedule_d17ab1c0-3377-48f4-ad71-d2c7c50dc330" name="mysql_config[.properties.mysql_backups][s3][.properties.mysql_backups.s3.cron_schedule]" placeholder="@every 15m" autocomplete="off" disabled="" value="" type="text">
</div>
<div class="hint">Schedule MySQL backups as a cron expression (see http://godoc.org/github.com/robfig/cron). Schedule uses the machine local time zone.</div>
</div>


<div class="boolean control-group required reverse-hereditary-focus">
<div class="controls">
<label class="checkbox inline">
<input name="mysql_config[.properties.mysql_backups][s3][.properties.mysql_backups.s3.backup_all_masters]" value="0" disabled="" type="hidden">
<input checked="checked" id="__properties__mysql_backups__s3__backup_all_masters_c52c14ae-02f1-408f-a02c-f2a6a40f7250" name="mysql_config[.properties.mysql_backups][s3][.properties.mysql_backups.s3.backup_all_masters]" value="1" disabled="" type="checkbox">
Backup All Nodes
</label>
</div>
<div class="hint">Each node is a duplicate master. This option makes unique backups from each master, rather than from a single instance.</div>
</div>


</div>
<label>
<input name="mysql_config[.properties.mysql_backups][value]" id="option_scp_7de8d485-b345-4ee1-a799-c957f5ee1bac" value="scp" class="accordion-group-radio" type="radio">
Enable automated backups from MySQL to a remote host via SCP
</label>
<div class="accordion-group-section control-group hidden disabled" data-accordion-target-of-id="option_scp_7de8d485-b345-4ee1-a799-c957f5ee1bac" data-fields-enabled-by="option_scp_7de8d485-b345-4ee1-a799-c957f5ee1bac" style="display: none;">
<div class="control-group required reverse-hereditary-focus string">
<label class="control-label">
Hostname
</label>
<div class="controls">
<input id="__properties__mysql_backups__scp__server_fd7a5203-1105-430b-8de7-6dc5926c8530" name="mysql_config[.properties.mysql_backups][scp][.properties.mysql_backups.scp.server]" autocomplete="off" disabled="" value="" type="text">
</div>
</div>


<div class="control-group port required reverse-hereditary-focus">
<label class="control-label">
Port
</label>
<div class="controls">
<input id="__properties__mysql_backups__scp__port_ab5f89cc-7ab4-45c2-8ba9-83b1520e4bc9" name="mysql_config[.properties.mysql_backups][scp][.properties.mysql_backups.scp.port]" value="22" autocomplete="off" disabled="" type="text">
</div>
<div class="hint">SCP uses the SSH protocol, so provide the TCP port that your server uses for the SSH protocol.</div>
</div>


<div class="control-group required reverse-hereditary-focus string">
<label class="control-label">
Username
</label>
<div class="controls">
<input id="__properties__mysql_backups__scp__user_4f6195fd-e62a-4de6-8139-c44155d776a8" name="mysql_config[.properties.mysql_backups][scp][.properties.mysql_backups.scp.user]" autocomplete="off" disabled="" value="" type="text">
</div>
</div>


<div class="control-group required reverse-hereditary-focus text textarea">
<label class="control-label">
Private key
</label>
<div class="controls">
<textarea name="mysql_config[.properties.mysql_backups][scp][.properties.mysql_backups.scp.key]" id="mysql_config_.properties.mysql_backups_scp_.properties.mysql_backups.scp.key" autocomplete="off" disabled=""></textarea>
</div>
<div class="hint">Do not password protect</div>
</div>


<div class="control-group required reverse-hereditary-focus string">
<label class="control-label">
Destination directory
</label>
<div class="controls">
<input id="__properties__mysql_backups__scp__destination_a427658a-07c1-4961-8683-332005705b40" name="mysql_config[.properties.mysql_backups][scp][.properties.mysql_backups.scp.destination]" autocomplete="off" disabled="" value="" type="text">
</div>
</div>


<div class="control-group required reverse-hereditary-focus string">
<label class="control-label">
Cron Schedule
</label>
<div class="controls">
<input id="__properties__mysql_backups__scp__cron_schedule_887abe14-de96-4b89-9669-00a1991e3e14" name="mysql_config[.properties.mysql_backups][scp][.properties.mysql_backups.scp.cron_schedule]" autocomplete="off" disabled="" value="" type="text">
</div>
<div class="hint">Schedule MySQL backups as a cron expression (see http://godoc.org/github.com/robfig/cron). Schedule uses the machine local time zone.</div>
</div>


<div class="boolean control-group required reverse-hereditary-focus">
<div class="controls">
<label class="checkbox inline">
<input name="mysql_config[.properties.mysql_backups][scp][.properties.mysql_backups.scp.backup_all_masters]" value="0" disabled="" type="hidden">
<input checked="checked" id="__properties__mysql_backups__scp__backup_all_masters_03bc71bb-95ed-4866-b050-bd3f283e7b9e" name="mysql_config[.properties.mysql_backups][scp][.properties.mysql_backups.scp.backup_all_masters]" value="1" disabled="" type="checkbox">
Backup All Nodes
</label>
</div>
<div class="hint">Each node is a duplicate master. This option makes unique backups from each master, rather than from a single instance.</div>
</div>


</div>
</div>
</div>

<div class="control-group" data-toggle-disabled-fields="">
<div class="control-group required reverse-hereditary-focus selector">
<label>Server Activity Logging</label>
</div>
<div class="accordion-group selector-options">
<label>
<input name="mysql_config[.properties.mysql_activity_logging][value]" id="option_disable_c3e53d99-e149-4f9b-91fc-006676fd5cda" value="disable" class="accordion-group-radio" type="radio">
Disable server activity logging
</label>
<label>
<input name="mysql_config[.properties.mysql_activity_logging][value]" id="option_enable_b8a142a8-9e9b-4fea-86e9-496dc9cf6e07" value="enable" class="accordion-group-radio" checked="checked" type="radio">
Enable server activity logging
</label>
<div class="accordion-group-section control-group" data-accordion-target-of-id="option_enable_b8a142a8-9e9b-4fea-86e9-496dc9cf6e07" data-fields-enabled-by="option_enable_b8a142a8-9e9b-4fea-86e9-496dc9cf6e07" style="display: block;">
<div class="control-group required reverse-hereditary-focus string">
<label class="control-label">
Event types
</label>
<div class="controls">
<input id="__properties__mysql_activity_logging__enable__audit_logging_events_5ead01f0-52d5-432f-8d7c-61b8a8dfb5ca" name="mysql_config[.properties.mysql_activity_logging][enable][.properties.mysql_activity_logging.enable.audit_logging_events]" value="connect,query" autocomplete="off" type="text">
</div>
<div class="hint">The MySQL service will keep a record of server activity. The default setting tracks who connected to the system and what queries were processed. For more information, see: https://mariadb.com/kb/en/mariadb/about-the-mariadb-audit-plugin/</div>
</div>


</div>
</div>
</div>

<div class="control-group integer required reverse-hereditary-focus">
<label class="control-label">
Load Balancer Healthy Threshold
</label>
<div class="controls">
<input id="__mysql_proxy__startup_delay_16e91716-e211-4028-a77a-e5851916ba98" name="mysql_config[.mysql_proxy.startup_delay]" value="0" autocomplete="off" type="text">
</div>
<div class="hint">Specifies the amount of time, in seconds, to wait until declaring the Proxy instance started. This allows an external load balancer time to register the instance as healthy.</div>
</div>

<div class="control-group integer required reverse-hereditary-focus">
<label class="control-label">
Load Balancer Unhealthy Threshold
</label>
<div class="controls">
<input id="__mysql_proxy__shutdown_delay_29fd6fca-e43a-4b4f-9778-dc0401e77cb5" name="mysql_config[.mysql_proxy.shutdown_delay]" value="0" autocomplete="off" type="text">
</div>
<div class="hint">Specifies the amount of time, in seconds, that the MySQL Proxy will continue to accept connections before shutting down. During this period, the healthcheck will report unhealthy to cause load balancers to fail over to other Proxies. This value should be greater than or equal to the max time it could take your load balancer to consider a Proxy instance unhealthy, given contiguous failed healthchecks.</div>
</div>


<div class="control-group required reverse-hereditary-focus">
<div class="controls">
<button class="btn btn-primary" id="save-action" type="submit">
Save
</button>


</div>
</div>
</form>
<form class="modal fade" style="display: none;" id="rsa-certificate-form" action="https://pcf-opsman-oph7lhgru7et4.japaneast.cloudapp.azure.com/rsa_certificates" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" value="✓" type="hidden"><div class="modal-header">
<button class="close" data-dismiss="modal" type="button">
<i class="fa fa-times-circle"></i>
</button>
<h2>
<i class="fa fa-check"></i>
Generate RSA Certificate
</h2>
</div>

<div class="modal-body">
<div class="control-group required reverse-hereditary-focus">
<label class="control-label">Example: *.app.domain.com, *.system.domain.com, my.webapp.com, *.domain.com</label>
<div class="controls">
<input name="rsa_certificate[domains]" id="rsa_certificate_domains" autocomplete="off" value="" type="text">

</div>
</div>
</div>
<div class="modal-footer">
<div class="control-group required reverse-hereditary-focus">
<div class="controls">
<button class="btn-tertiary btn" data-dismiss="modal">Cancel</button>
<button class="btn btn-primary" id="save-rsa-certificate-action" type="submit">
Generate
</button>


</div>
</div>
</div>
</form>


</section>
</div>
</section>

<footer class="site-footer">
<span class="version">PCF Ops Manager v1.10.0.0;</span>
<span>©2013-2017 Pivotal Software, Inc; All Rights Reserved.</span>
<span class="float-right"><a href="https://pcf-opsman-oph7lhgru7et4.japaneast.cloudapp.azure.com/eula">End User License Agreement</a></span>
<span class="float-right">&nbsp;|&nbsp;</span>
<span class="float-right"><a href="docs.html" indepth="true">API Docs</a></span>
</footer>


</div>





</body></html>
